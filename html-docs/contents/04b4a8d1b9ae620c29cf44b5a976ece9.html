<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>generate</title>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic|Source+Code+Pro:300,400,700' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="../assets/css/bootstrap.css">
<link rel="stylesheet" href="../assets/css/jquery.bonsai.css">
<link rel="stylesheet" href="../assets/css/main.css">
<link rel="stylesheet" href="../assets/icon-font/icons.css">
<script type="text/javascript" src="../assets/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript" src="../assets/js/bootstrap.js"></script>
<script type="text/javascript" src="../assets/js/jquery.bonsai.js"></script>

  </head>
  <body>
    <div>

      <!-- Name Title -->

      <h1>generate</h1>

      <!-- Type and Stereotype -->

      <section style="margin-top: .5em;">
        <span class="alert alert-info">
          <span class="node-icon staruml-icon icon-UMLOperation"></span>
          UMLOperation
        </span>
        
      </section>

      <!-- Path -->

      <section style="margin-top: 10px">
        
        
        
          
          <span class="label label-info"><a href='cf9c8b720f3815adeccaf3ef6e48c6c4.html'><span class='node-icon staruml-icon icon-Project'></span>UML</a></span>
        
          <span>::</span>
          <span class="label label-info"><a href='da2be80fe6e48fd9d101c1429f49bd58.html'><span class='node-icon staruml-icon icon-UMLModel'></span>openJDK</a></span>
        
          <span>::</span>
          <span class="label label-info"><a href='ee78c922cc529ca62752f771c0bb7b9d.html'><span class='node-icon staruml-icon icon-UMLPackage'></span>java</a></span>
        
          <span>::</span>
          <span class="label label-info"><a href='a93b2fc56794e246bf26838d14b54f65.html'><span class='node-icon staruml-icon icon-UMLPackage'></span>lang</a></span>
        
          <span>::</span>
          <span class="label label-info"><a href='e4c701803145d5e3dc249c369d7c56bb.html'><span class='node-icon staruml-icon icon-UMLPackage'></span>invoke</a></span>
        
          <span>::</span>
          <span class="label label-info"><a href='357a0213289b50f9f29ee9ae1b83d026.html'><span class='node-icon staruml-icon icon-UMLClass'></span>StringConcatFactory</a></span>
        
          <span>::</span>
          <span class="label label-info"><a href='04b4a8d1b9ae620c29cf44b5a976ece9.html'><span class='node-icon staruml-icon icon-UMLOperation'></span>generate</a></span>
        
      </section>

      <!-- Diagram -->

      

      <!-- Description -->

      
      <section>
        <h3>Description</h3>
        <div>
          
            <p>When cache is enabled, we want to cache as much as we can.</p>

<pre><code>      However, there are two peculiarities:

       a) The generated class should stay within the same package as the
          host class, to allow Unsafe.defineAnonymousClass access controls
          to work properly. JDK may choose to fail with IllegalAccessException
          when accessing a VM anonymous class with non-privileged callers,
          see JDK-8058575.

       b) If we mark the stub with some prefix, say, derived from the package
          name because of (a), we can technically use that stub in other packages.
          But the call stack traces would be extremely puzzling to unsuspecting users
          and profiling tools: whatever stub wins the race, would be linked in all
          similar callsites.

       Therefore, we set the class prefix to match the host class package, and use
       the prefix as the cache key too. This only affects BC_</code></pre>

<p>strategies, and only when
           cache is enabled.</p>
          
        </div>
      </section>
      

      <!-- Specification -->

      

      <!-- Directed Relationship -->

      

      <!-- Undirected Relationship -->

      

      <!-- Classifier -->

      

      <!-- Interface -->

      

      <!-- Component -->

      

      <!-- Node -->

      

      <!-- Actor -->

      

      <!-- Use Case -->

      

      <!-- Template Parameters -->

      

      <!-- Literals -->

      

      <!-- Attributes -->

      

      <!-- Operations -->

      

      <!-- Receptions -->

      

      <!-- Extension Points -->

      

      <!-- Parameters -->

      
      <section>
        <h3>Parameters</h3>
        <table class="table table-striped table-bordered">
          <tr>
            <th>Direction</th>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          
          <tr>
            <td>in</td>
            <td><a href="adb83ad798b6e4037eb25daf9726a4d7.html">lookup</a></td>
            <td><a href='965e7a574ce343d6e2b5f8d2490d8aa3.html'><span class='node-icon staruml-icon icon-UMLClass'></span>Lookup</a></td>
            <td></td>
          </tr>
          
          <tr>
            <td>in</td>
            <td><a href="5302738736bab6df94e33e10df94813b.html">className</a></td>
            <td>String</td>
            <td></td>
          </tr>
          
          <tr>
            <td>in</td>
            <td><a href="57e665c3604c5df32ba97b2e84d4e660.html">mt</a></td>
            <td><a href='20b0fc197bbaed1334962bbe207010ba.html'><span class='node-icon staruml-icon icon-UMLClass'></span>MethodType</a></td>
            <td></td>
          </tr>
          
          <tr>
            <td>in</td>
            <td><a href="8128f570fdc0e3d7195e84081c892428.html">recipe</a></td>
            <td><a href='4f464d96723edebdeee3394fdaf6f81c.html'><span class='node-icon staruml-icon icon-UMLClass'></span>Recipe</a></td>
            <td></td>
          </tr>
          
          <tr>
            <td>return</td>
            <td><a href="9b0332f000e691e3d19c466e22650de0.html">(unnamed)</a></td>
            <td><a href='bdedc58db51c3635237f3d1c8599c596.html'><span class='node-icon staruml-icon icon-UMLClass'></span>MethodHandle</a></td>
            <td></td>
          </tr>
          
        </table>
      </section>
      

      <!-- Diagrams -->

      
      

      <!-- Behavior -->

      

      <!-- Action -->

      

      <!-- Interaction -->

      

      <!-- CombinedFragment -->

      

      <!-- Activity -->

      

      <!-- State Machine -->

      

      <!-- State Machine -->

      

      <!-- State -->

      

      <!-- Vertex -->

      

      <!-- Transition -->

      

      <!-- Data Model (ERD) -->

      

      <!-- Columns (ERD) -->

      

      <!-- Related Entities (ERD) -->

      

      <!-- Data Flows (DFD) -->

      

      <!-- Flows (Flowchart) -->

      

      <!-- Properties -->

      <section>
        <h3>Properties</h3>
        
        <table class="table table-striped table-bordered">
    <tr>
        <th width="50%">Name</th>
        <th width="50%">Value</th>
    </tr>
    
    
    
    
    
    
    
    <tr>
        <td>name</td>
        <td>generate</td>
    </tr>
    
    
    
    
    
    
    
    
    
    
    
    <tr>
        <td>stereotype</td>
        <td><span class='label label-info'>null</span></td>
    </tr>
    
    
    
    
    
    <tr>
        <td>visibility</td>
        <td>private</td>
    </tr>
    
    
    
    
    
    
    
    <tr>
        <td>isStatic</td>
        <td><span class='label label-info'>true</span></td>
    </tr>
    
    
    
    
    
    <tr>
        <td>isLeaf</td>
        <td><span class='label label-info'>false</span></td>
    </tr>
    
    
    
    
    
    <tr>
        <td>parameters</td>
        <td>
            
            
            <a href='adb83ad798b6e4037eb25daf9726a4d7.html'><span class='node-icon staruml-icon icon-UMLParameter'></span>lookup</a>
            
            <span>, </span>
            <a href='5302738736bab6df94e33e10df94813b.html'><span class='node-icon staruml-icon icon-UMLParameter'></span>className</a>
            
            <span>, </span>
            <a href='57e665c3604c5df32ba97b2e84d4e660.html'><span class='node-icon staruml-icon icon-UMLParameter'></span>mt</a>
            
            <span>, </span>
            <a href='8128f570fdc0e3d7195e84081c892428.html'><span class='node-icon staruml-icon icon-UMLParameter'></span>recipe</a>
            
            <span>, </span>
            <a href='9b0332f000e691e3d19c466e22650de0.html'><span class='node-icon staruml-icon icon-UMLParameter'></span>(Parameter)</a>
            
        </td>
    </tr>
    
    
    
    
    
    <tr>
        <td>raisedExceptions</td>
        <td>
            
            
            <a href='3ac579541dbad47aa238551dcb129ec6.html'><span class='node-icon staruml-icon icon-UMLClass'></span>StringConcatException</a>
            
        </td>
    </tr>
    
    
    
    
    
    <tr>
        <td>concurrency</td>
        <td>sequential</td>
    </tr>
    
    
    
    
    
    <tr>
        <td>isQuery</td>
        <td><span class='label label-info'>false</span></td>
    </tr>
    
    
    
    
    
    <tr>
        <td>isAbstract</td>
        <td><span class='label label-info'>false</span></td>
    </tr>
    
    
    
    
    
    <tr>
        <td>specification</td>
        <td></td>
    </tr>
    
    
    
    
    
    
    
    
    
</table>                

      </section>

      <!-- Tags -->

      

      <!-- Constraints, Dependencies, Dependants -->

      
        
        


        
        


        
        

      

      <!-- Relationships -->

      
      


      <!-- Owned Elements -->

      
      


    </div>
  </body>
</html>
