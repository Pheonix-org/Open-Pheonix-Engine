<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>AbstractStackWalker</title>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic|Source+Code+Pro:300,400,700' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="../assets/css/bootstrap.css">
<link rel="stylesheet" href="../assets/css/jquery.bonsai.css">
<link rel="stylesheet" href="../assets/css/main.css">
<link rel="stylesheet" href="../assets/icon-font/icons.css">
<script type="text/javascript" src="../assets/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript" src="../assets/js/bootstrap.js"></script>
<script type="text/javascript" src="../assets/js/jquery.bonsai.js"></script>

  </head>
  <body>
    <div>

      <!-- Name Title -->

      <h1>AbstractStackWalker</h1>

      <!-- Type and Stereotype -->

      <section style="margin-top: .5em;">
        <span class="alert alert-info">
          <span class="node-icon staruml-icon icon-UMLClass"></span>
          UMLClass
        </span>
        
      </section>

      <!-- Path -->

      <section style="margin-top: 10px">
        
        
        
          
          <span class="label label-info"><a href='cf9c8b720f3815adeccaf3ef6e48c6c4.html'><span class='node-icon staruml-icon icon-Project'></span>UML</a></span>
        
          <span>::</span>
          <span class="label label-info"><a href='da2be80fe6e48fd9d101c1429f49bd58.html'><span class='node-icon staruml-icon icon-UMLModel'></span>openJDK</a></span>
        
          <span>::</span>
          <span class="label label-info"><a href='ee78c922cc529ca62752f771c0bb7b9d.html'><span class='node-icon staruml-icon icon-UMLPackage'></span>java</a></span>
        
          <span>::</span>
          <span class="label label-info"><a href='a93b2fc56794e246bf26838d14b54f65.html'><span class='node-icon staruml-icon icon-UMLPackage'></span>lang</a></span>
        
          <span>::</span>
          <span class="label label-info"><a href='bfd6ae3d9f85f710fecc5d058e973bea.html'><span class='node-icon staruml-icon icon-UMLClass'></span>StackStreamFactory</a></span>
        
          <span>::</span>
          <span class="label label-info"><a href='1b688a6fae43a50cf42ad238dcdaf102.html'><span class='node-icon staruml-icon icon-UMLClass'></span>AbstractStackWalker</a></span>
        
      </section>

      <!-- Diagram -->

      

      <!-- Description -->

      
      <section>
        <h3>Description</h3>
        <div>
          
            <p>Subclass of AbstractStackWalker implements a specific stack walking logic.
It needs to set up the frame buffer and stack walking mode.
It initiates the VM stack walking via the callStackWalk method that serves
as the anchored frame and VM will call up to AbstractStackWalker::doStackWalk.
@param &lt;R&gt; the type of the result returned from stack walking
@param &lt;T&gt; the type of the data gathered for each frame.
For example, StackFrameInfo for StackWalker::walk or
Class&lt;?&gt; for StackWalker::getCallerClass</p>
          
        </div>
      </section>
      

      <!-- Specification -->

      

      <!-- Directed Relationship -->

      

      <!-- Undirected Relationship -->

      

      <!-- Classifier -->

      
        
        


        
        
<section class="element-list">
    <h3>Specialized Elements</h3>
    <ul class="nav nav-list">
        
        <li><a href='6a63f7e829b5af66301e3dbda0cf86ef.html'><span class='node-icon staruml-icon icon-UMLClass'></span>StackFrameTraverser</a></li>
        
        <li><a href='7752d910628e550d973662903204e6ed.html'><span class='node-icon staruml-icon icon-UMLClass'></span>CallerClassFinder</a></li>
        
    </ul>
</section>



        
        


        
        


        
        

      

      <!-- Interface -->

      

      <!-- Component -->

      

      <!-- Node -->

      

      <!-- Actor -->

      

      <!-- Use Case -->

      

      <!-- Template Parameters -->

      
      <section>
        <h3>Template Parameters</h3>
        <table class="table table-striped table-bordered">
          <tr>
            <th>Visibility</th>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          
          <tr>
            <td>public</td>
            <td><a href="557e7abe64d163ab138770ba2baaf568.html">R</a></td>
            <td></td>
            <td></td>
          </tr>
          
          <tr>
            <td>public</td>
            <td><a href="ecab834c26abd5b1e60f15b60c86d2c3.html">T</a></td>
            <td></td>
            <td></td>
          </tr>
          
        </table>
      </section>
      

      <!-- Literals -->

      

      <!-- Attributes -->

      
      <section>
        <h3>Attributes</h3>
        <table class="table table-striped table-bordered">
          <tr>
            <th>Visibility</th>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          
          <tr>
            <td>protected</td>
            <td><a href="769fe51857810fc57153bc5863a780f8.html">walker</a></td>
            <td><a href='3de0a9134f7c5a0c38150b782c5adf39.html'>StackWalker</a></td>
            <td></td>
          </tr>
          
          <tr>
            <td>protected</td>
            <td><a href="17080ac343359ac57f9e282d12fe835c.html">maxDepth</a></td>
            <td>int</td>
            <td></td>
          </tr>
          
          <tr>
            <td>protected</td>
            <td><a href="fb9a4ddaaa20f523564c0327a7c3a381.html">mode</a></td>
            <td>long</td>
            <td></td>
          </tr>
          
          <tr>
            <td>protected</td>
            <td><a href="a8b3ff55d2711d6e76831ebef87c722e.html">depth</a></td>
            <td>int</td>
            <td></td>
          </tr>
          
          <tr>
            <td>protected</td>
            <td><a href="0a9654688053749f7ed68033e24e21d7.html">anchor</a></td>
            <td>long</td>
            <td></td>
          </tr>
          
        </table>
      </section>
      

      <!-- Operations -->

      
      <section>
        <h3>Operations</h3>
        <table class="table table-striped table-bordered">
          <tr>
            <th>Visibility</th>
            <th>Name</th>
            <th>Description</th>
          </tr>
          
          <tr>
            <td>protected</td>
            <td><a href="d64be9bb04a65d94bd2bebb990d1784c.html">AbstractStackWalker(walker: StackWalker, mode: int)</a></td>
            <td></td>
          </tr>
          
          <tr>
            <td>protected</td>
            <td><a href="284f8da53aae1ef5d7952da50642d3e7.html">AbstractStackWalker(walker: StackWalker, mode: int, maxDepth: int)</a></td>
            <td></td>
          </tr>
          
          <tr>
            <td>private</td>
            <td><a href="4d0d20b08f77f4233b928d907fa45d70.html">toStackWalkMode(walker: StackWalker, mode: int): int</a></td>
            <td></td>
          </tr>
          
          <tr>
            <td>protected</td>
            <td><a href="ee37843c48c3affe6f765e351860111f.html">consumeFrames(): R</a></td>
            <td><p>A callback method to consume the stack frames.  This method is invoked
once stack walking begins (i.e. it is only invoked when walkFrames is called).
Each specialized AbstractStackWalker subclass implements the consumeFrames method
to control the following:
1. fetch the subsequent batches of stack frames
2. reuse or expand the allocated buffers
3. create specialized StackFrame objects
@return the number of consumed frames</p></td>
          </tr>
          
          <tr>
            <td>protected</td>
            <td><a href="5e201ca03cd31e0bd096bc0666349416.html">initFrameBuffer(): void</a></td>
            <td><p>Initialize FrameBuffer.  Subclass should implement this method to
create its custom frame buffers.</p></td>
          </tr>
          
          <tr>
            <td>protected</td>
            <td><a href="66494a975235c9a2276acf85494cf32f.html">batchSize(lastBatchFrameCount: int): int</a></td>
            <td><p>Returns the suggested next batch size.
Subclass should override this method to change the batch size
@param lastBatchFrameCount number of frames in the last batch; or zero
@return suggested batch size</p></td>
          </tr>
          
          <tr>
            <td>protected</td>
            <td><a href="0fdfa070cc4026d8c910cbc8f75d603e.html">getNextBatchSize(): int</a></td>
            <td><p>Returns the next batch size, always &gt;= minimum batch size (32)
Subclass may override this method if the minimum batch size is different.</p></td>
          </tr>
          
          <tr>
            <td>package</td>
            <td><a href="83f693a14bf79547680f114ecaf51c3b.html">checkState(state: WalkerState): void</a></td>
            <td><p>Checks if this stream is in the given state. Otherwise, throws IllegalStateException.
VM also validates this stream if it&#39;s anchored for stack walking
when stack frames are fetched for each batch.</p></td>
          </tr>
          
          <tr>
            <td>private</td>
            <td><a href="974e35479cb71f167408d6b968f40cd0.html">close(): void</a></td>
            <td><p>Close this stream.  This stream becomes invalid to walk.</p></td>
          </tr>
          
          <tr>
            <td>package</td>
            <td><a href="c4c87ad9a440047dfa7e48d046247cfa.html">walk(): R</a></td>
            <td><p>Walks stack frames until {@link #consumeFrames} is done consuming
the frames it is interested in.</p></td>
          </tr>
          
          <tr>
            <td>private</td>
            <td><a href="e0a8e74621fd2b938eeb0495ab4a8f94.html">skipReflectionFrames(): boolean</a></td>
            <td></td>
          </tr>
          
          <tr>
            <td>package</td>
            <td><a href="b98d8f0ab14a197f2deec2a3363681e5.html">peekFrame(): Class</a></td>
            <td><p>Returns {@code Class} object at the current frame;
or {@code null} if no more frame. If advanceToNextBatch is true,
it will only fetch the next batch.</p></td>
          </tr>
          
          <tr>
            <td>private</td>
            <td><a href="aa23881058962848d9c6aa0278d8e067.html">doStackWalk(anchor: long, skipFrames: int, batchSize: int, bufStartIndex: int, bufEndIndex: int): Object</a></td>
            <td><p>This method is only invoked by VM.
It will invoke the consumeFrames method to start the stack walking
with the first batch of stack frames.  Each specialized AbstractStackWalker
subclass implements the consumeFrames method to control the following:
1. fetch the subsequent batches of stack frames
2. reuse or expand the allocated buffers
3. create specialized StackFrame objects</p></td>
          </tr>
          
          <tr>
            <td>private</td>
            <td><a href="80c0e3b9a5b6947d6b1e38c82c2dcb13.html">getNextBatch(): int</a></td>
            <td><p>Get next batch of stack frames.</p></td>
          </tr>
          
          <tr>
            <td>package</td>
            <td><a href="cf220e00e77d13e064bec6022978b322.html">nextFrame(): Class</a></td>
            <td><p>This method traverses the next stack frame and returns the Class
invoking that stack frame.
This method can only be called during the walk method.  This is intended
to be used to walk the stack frames in one single invocation and
this stack stream will be invalidated once walk is done.
@see #tryNextFrame</p></td>
          </tr>
          
          <tr>
            <td>package</td>
            <td><a href="16bbfd1708f5c68e244b3197d1ebf4f9.html">hasNext(): boolean</a></td>
            <td><p>Returns true if there is next frame to be traversed.
This skips hidden frames unless this StackWalker has
{@link Option#SHOW<em>REFLECT</em>FRAMES}</p></td>
          </tr>
          
          <tr>
            <td>private</td>
            <td><a href="815e96d7cd4e22d04fadfeba9eb75c86.html">beginStackWalk(): R</a></td>
            <td><p>Begin stack walking - pass the allocated arrays to the VM to fill in
stack frame information.
VM first anchors the frame of the current thread.  A traversable stream
on this thread&#39;s stack will be opened.  The VM will fetch the first batch
of stack frames and call AbstractStackWalker::doStackWalk to invoke the
stack walking function on each stack frame.
If all fetched stack frames are traversed, AbstractStackWalker::fetchStackFrames will
fetch the next batch of stack frames to continue.</p></td>
          </tr>
          
          <tr>
            <td>private</td>
            <td><a href="8f6941b56cb1bd021087207b71c9de4c.html">fetchStackFrames(batchSize: int): int</a></td>
            <td><p>Fetches stack frames.
@params batchSize number of elements of the frame  buffers for this batch
@returns number of frames fetched in this batch</p></td>
          </tr>
          
          <tr>
            <td>private</td>
            <td><a href="c6b6d51f919da575f3e645cf41166a81.html">callStackWalk(mode: long, skipframes: int, batchSize: int, startIndex: int, frames: T): R</a></td>
            <td><p>Begins stack walking.  This method anchors this frame and invokes
AbstractStackWalker::doStackWalk after fetching the first batch of stack frames.
@param mode        mode of stack walking
@param skipframes  number of frames to be skipped before filling the frame buffer.
@param batchSize   the batch size, max. number of elements to be filled in the frame buffers.
@param startIndex  start index of the frame buffers to be filled.
@param frames      Either a Class&lt;?&gt; array, if mode is {@link #FILL<em>CLASS</em>REFS_ONLY}
or a {@link StackFrameInfo} (or derivative) array otherwise.
@return            Result of AbstractStackWalker::doStackWalk</p></td>
          </tr>
          
          <tr>
            <td>private</td>
            <td><a href="4ed8218bdce422469e41057420a2199b.html">fetchStackFrames(mode: long, anchor: long, batchSize: int, startIndex: int, frames: T): int</a></td>
            <td><p>Fetch the next batch of stack frames.
@param mode        mode of stack walking
@param anchor
@param batchSize   the batch size, max. number of elements to be filled in the frame buffers.
@param startIndex  start index of the frame buffers to be filled.
@param frames      Either a Class&lt;?&gt; array, if mode is {@link #FILL<em>CLASS</em>REFS_ONLY}
or a {@link StackFrameInfo} (or derivative) array otherwise.
@return the end index to the frame buffers</p></td>
          </tr>
          
        </table>
      </section>
      

      <!-- Receptions -->

      

      <!-- Extension Points -->

      

      <!-- Parameters -->

      

      <!-- Diagrams -->

      
      

      <!-- Behavior -->

      

      <!-- Action -->

      

      <!-- Interaction -->

      

      <!-- CombinedFragment -->

      

      <!-- Activity -->

      

      <!-- State Machine -->

      

      <!-- State Machine -->

      

      <!-- State -->

      

      <!-- Vertex -->

      

      <!-- Transition -->

      

      <!-- Data Model (ERD) -->

      

      <!-- Columns (ERD) -->

      

      <!-- Related Entities (ERD) -->

      

      <!-- Data Flows (DFD) -->

      

      <!-- Flows (Flowchart) -->

      

      <!-- Properties -->

      <section>
        <h3>Properties</h3>
        
        <table class="table table-striped table-bordered">
    <tr>
        <th width="50%">Name</th>
        <th width="50%">Value</th>
    </tr>
    
    
    
    
    
    
    
    <tr>
        <td>name</td>
        <td>AbstractStackWalker</td>
    </tr>
    
    
    
    
    
    
    
    
    
    
    
    <tr>
        <td>stereotype</td>
        <td><span class='label label-info'>null</span></td>
    </tr>
    
    
    
    
    
    <tr>
        <td>visibility</td>
        <td>package</td>
    </tr>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <tr>
        <td>isAbstract</td>
        <td><span class='label label-info'>true</span></td>
    </tr>
    
    
    
    
    
    <tr>
        <td>isFinalSpecialization</td>
        <td><span class='label label-info'>false</span></td>
    </tr>
    
    
    
    
    
    <tr>
        <td>isLeaf</td>
        <td><span class='label label-info'>false</span></td>
    </tr>
    
    
    
    
    
    <tr>
        <td>isActive</td>
        <td><span class='label label-info'>false</span></td>
    </tr>
    
    
    
</table>                

      </section>

      <!-- Tags -->

      

      <!-- Constraints, Dependencies, Dependants -->

      
        
        


        
        


        
        

      

      <!-- Relationships -->

      
      
<section class="element-list">
    <h3>Relationships</h3>
    <ul class="nav nav-list">
        
        <li><a href='59306ce106c97bcf900c60b6923f648f.html'><span class='node-icon staruml-icon icon-UMLAssociation'></span>(AbstractStackWalker—Thread)</a></li>
        
        <li><a href='ff397d841ebc0361e874c3a45f86dbcd.html'><span class='node-icon staruml-icon icon-UMLAssociation'></span>(AbstractStackWalker—FrameBuffer)</a></li>
        
        <li><a href='7b63e12a69c837a92e0261e3884f7c55.html'><span class='node-icon staruml-icon icon-UMLGeneralization'></span>(StackFrameTraverser→AbstractStackWalker)</a></li>
        
        <li><a href='6299341f791171fa4d7217e88b64f359.html'><span class='node-icon staruml-icon icon-UMLGeneralization'></span>(CallerClassFinder→AbstractStackWalker)</a></li>
        
    </ul>
</section>



      <!-- Owned Elements -->

      
      
<section class="element-list">
    <h3>Owned Elements</h3>
    <ul class="nav nav-list">
        
        <li><a href='59306ce106c97bcf900c60b6923f648f.html'><span class='node-icon staruml-icon icon-UMLAssociation'></span>(AbstractStackWalker—Thread)</a></li>
        
        <li><a href='ff397d841ebc0361e874c3a45f86dbcd.html'><span class='node-icon staruml-icon icon-UMLAssociation'></span>(AbstractStackWalker—FrameBuffer)</a></li>
        
    </ul>
</section>



    </div>
  </body>
</html>
